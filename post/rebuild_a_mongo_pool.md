+++
date = "2017-02-11"
title = "一个Mongo连接池库的介绍"
draft = true
description = ""
tags        = ["库", "Mongo"]
categories = [ "技术"]
+++

自己写了一个Mongo连接池, 已用在生产中, 算是重复制造轮子

<!--more-->
 
## 为什么用连接池

连接 Mongo 时, 如果连接太多, 会导致数据库因并发连接太多而崩溃. 为了解决这个问题, 就要限制各个应用连接 Mongo 的连接数量. 

## 原理

每次需要创建连接时, 首先申请一个连接, 如果已经超过了一定数量, 则请求被驳回, 也就是不能创建新连接, 从而达到了限制连接数量的目的

## 使用方法

参照该库提供的[例子](https://github.com/ssor/mongopool/blob/master/example/main.go)

## 其它特性

该库还支持**断线重连**. 当应用已经启动, 而数据库需要重启时, 不需要要重新启动应用. 